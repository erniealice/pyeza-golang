{{define "theme-switcher-popover"}}
{{/*
    Theme Switcher Popover
    ======================
    Compact theme & font picker for the header.
    Uses the popover component for show/hide behavior.
    Theme swatches use hardcoded colors from each theme's --theme-icon-bg / --theme-icon-accent.
    Runtime switching is handled by theme-switcher.js.
*/}}
<div class="theme-switcher-popover"
     data-popover
     data-popover-position="bottom"
     data-popover-align="end"
     data-popover-width="240px"
     data-popover-trigger="click">
    <button class="popover-trigger header-btn" aria-label="{{.CommonLabels.Theme.Toggle}}" title="{{.CommonLabels.Theme.ChangeTheme}}">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"/>
            <line x1="12" y1="1" x2="12" y2="3"/>
            <line x1="12" y1="21" x2="12" y2="23"/>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
            <line x1="1" y1="12" x2="3" y2="12"/>
            <line x1="21" y1="12" x2="23" y2="12"/>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
        </svg>
    </button>
    <div class="popover-panel theme-panel">
        <div class="popover-arrow"></div>

        <div class="theme-panel-section">
            <div class="theme-panel-title">{{.CommonLabels.Theme.Title}}</div>
            <div class="theme-swatches">
                <button class="theme-option" data-theme="warm-cream" title="{{.CommonLabels.Theme.Themes.WarmCream}}">
                    <span class="theme-swatch" style="background: linear-gradient(135deg, #FAF8F5 0%, #E8E4DE 100%);"><span class="theme-swatch-dot" style="background: #C4654A;"></span></span>
                </button>
                <button class="theme-option" data-theme="corporate-steel" title="{{.CommonLabels.Theme.Themes.CorporateSteel}}">
                    <span class="theme-swatch" style="background: linear-gradient(135deg, #F4F6F9 0%, #D5DBE4 100%);"><span class="theme-swatch-dot" style="background: #2E5C8A;"></span></span>
                </button>
                <button class="theme-option" data-theme="paper-ink" title="{{.CommonLabels.Theme.Themes.PaperInk}}">
                    <span class="theme-swatch" style="background: linear-gradient(135deg, #F9F7F3 0%, #DDD9D2 100%);"><span class="theme-swatch-dot" style="background: #2D2A25;"></span></span>
                </button>
                <button class="theme-option" data-theme="peach-fizz" title="{{.CommonLabels.Theme.Themes.PeachFizz}}">
                    <span class="theme-swatch" style="background: linear-gradient(135deg, #FEF8F4 0%, #F6EBE3 100%);"><span class="theme-swatch-dot" style="background: #E87461;"></span></span>
                </button>
                <button class="theme-option" data-theme="minimal-light" title="{{.CommonLabels.Theme.Themes.MinimalLight}}">
                    <span class="theme-swatch" style="background: linear-gradient(135deg, #FFFFFF 0%, #F5F5F5 100%);"><span class="theme-swatch-dot" style="background: #171717;"></span></span>
                </button>
                <button class="theme-option" data-theme="sunset-glow" title="{{.CommonLabels.Theme.Themes.SunsetGlow}}">
                    <span class="theme-swatch" style="background: linear-gradient(135deg, #FF6B35 0%, #F25F5C 100%);"><span class="theme-swatch-dot" style="background: #FFE066;"></span></span>
                </button>
                <button class="theme-option" data-theme="ocean-deep" title="{{.CommonLabels.Theme.Themes.OceanDeep}}">
                    <span class="theme-swatch" style="background: linear-gradient(135deg, #15202B 0%, #0F1419 100%);"><span class="theme-swatch-dot" style="background: #1D9BF0;"></span></span>
                </button>
                <button class="theme-option" data-theme="forest-night" title="{{.CommonLabels.Theme.Themes.ForestNight}}">
                    <span class="theme-swatch" style="background: linear-gradient(135deg, #1A2922 0%, #0D1512 100%);"><span class="theme-swatch-dot" style="background: #4ADE80;"></span></span>
                </button>
            </div>
        </div>

        <div class="theme-panel-divider"></div>

        <div class="theme-panel-section">
            <div class="theme-panel-title">{{.CommonLabels.Theme.FontFamily}}</div>
            <div class="font-options">
                <button class="font-option" data-font="default">
                    <span class="font-option-preview" style="font-family: 'Figtree', sans-serif;">Ag</span>
                    <span class="font-option-name">{{.CommonLabels.Theme.Fonts.Default}}</span>
                </button>
                <button class="font-option" data-font="serif">
                    <span class="font-option-preview" style="font-family: 'Playfair Display', serif;">Ag</span>
                    <span class="font-option-name">{{.CommonLabels.Theme.Fonts.Serif}}</span>
                </button>
                <button class="font-option" data-font="mono">
                    <span class="font-option-preview" style="font-family: 'JetBrains Mono', monospace;">Ag</span>
                    <span class="font-option-name">{{.CommonLabels.Theme.Fonts.Mono}}</span>
                </button>
                <button class="font-option" data-font="rounded">
                    <span class="font-option-preview" style="font-family: 'Nunito', sans-serif;">Ag</span>
                    <span class="font-option-name">{{.CommonLabels.Theme.Fonts.Rounded}}</span>
                </button>
                <button class="font-option" data-font="condensed">
                    <span class="font-option-preview" style="font-family: 'Barlow Condensed', sans-serif;">Ag</span>
                    <span class="font-option-name">{{.CommonLabels.Theme.Fonts.Condensed}}</span>
                </button>
                <button class="font-option" data-font="exa">
                    <span class="font-option-preview" style="font-family: 'Lexend Exa', sans-serif;">Ag</span>
                    <span class="font-option-name">{{.CommonLabels.Theme.Fonts.Exa}}</span>
                </button>
            </div>
        </div>
    </div>
</div>
{{end}}
